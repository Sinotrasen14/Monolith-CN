# Lots of misc stuff in here, hard to parent it.
# ^ Yeah, this stuff should probably get split into different files but not my fight today.

# Powder (For when you throw stuff like flour and it explodes)

# Reagent Containers

- type: entity
  abstract: true
  parent: BaseItem
  id: ReagentContainerBase
  components:
  - type: Sprite
    sprite: Objects/Consumable/Food/ingredients.rsi
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 50
  - type: SolutionTransfer
    # This is potentially badly-handled due to 'drink opening',
    #  but it lets the flour be tampered with, refilled, etc.
  - type: DrawableSolution
    solution: food
  - type: RefillableSolution
    solution: food
  - type: DrainableSolution
    solution: food
  - type: Drink
    solution: food
    useSound:
      collection: eating
  - type: Damageable
    damageContainer: Inorganic
  - type: Spillable
    solution: food
  - type: TrashOnSolutionEmpty
    solution: food
  - type: Tag
    tags:
      - Ingredient

- type: entity
  abstract: true
  parent: [ReagentContainerBase, RecyclableItemCardboard] # Frontier: added RecyclableItemCardboard
  id: ReagentPacketBase
  components:
  - type: Openable
    sound:
      collection: packetOpenSounds
  # packet can be broken open
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 2
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: desecration
      - !type:SpillBehavior
        solution: food
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
  # packet contents can be splashed when open
  - type: MeleeWeapon
    soundNoDamage:
      path: "/Audio/Effects/Fluids/splat.ogg"
    damage:
      types:
        Blunt: 0

- type: entity
  abstract: true
  id: ItemHeftyBase
  components:
  - type: DamageOnLand
    damage:
      types:
        Blunt: 1
  - type: DamageOtherOnHit
    damage:
      types:
        Blunt: 1

- type: entity
  parent: [ReagentPacketBase, ItemHeftyBase]
  id: ReagentContainerFlour
  name: 面粉袋 丨 flour bag
  description: 一大袋面粉。适合烘焙！ 丨 A big bag of flour. Good for baking!
  components:
  - type: Sprite
    state: flour-big
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 50
        reagents:
        - ReagentId: Flour
          Quantity: 50

- type: entity
  parent: [ReagentPacketBase, ItemHeftyBase]
  id: ReagentContainerFlourSmall
  name: 面粉包 丨 flour pack
  description: 一包面粉。适合烘焙！ 丨 A pack of flour. Good for baking!
  components:
  - type: Sprite
    state: flour-small
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 20
        reagents:
        - ReagentId: Flour
          Quantity: 20

- type: entity
  parent: ReagentPacketBase
  id: ReagentContainerCornmeal
  name: 玉米面袋 丨 cornmeal bag
  description: 一大袋玉米粉。适合烹饪！ 丨 A big bag of cornmeal. Good for cooking!
  components:
  - type: Sprite
    state: cornmeal-big
  - type: SolutionContainerManager
    solutions:
      food:
        reagents:
        - ReagentId: Cornmeal
          Quantity: 50

- type: entity
  parent: ReagentPacketBase
  id: ReagentContainerCornmealSmall
  name: 玉米粉包 丨 cornmeal pack
  description: 一包玉米粉。适合烹饪！ 丨 A pack of cornmeal. Good for cooking!
  components:
  - type: Sprite
    state: cornmeal
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 20
        reagents:
        - ReagentId: Cornmeal
          Quantity: 20

- type: entity
  parent: ReagentPacketBase
  id: ReagentContainerRice
  name: 米袋 丨 rice bag
  description: 一大袋米。适合烹饪！ 丨 A big bag of rice. Good for cooking!
  components:
  - type: Sprite
    state: rice-big
  - type: SolutionContainerManager
    solutions:
      food:
        reagents:
        - ReagentId: Rice
          Quantity: 50

- type: entity
  parent: ReagentPacketBase
  id: ReagentContainerRiceSmall
  name: 米包 丨 rice pack
  description: 一包米。适合烹饪！ 丨 A pack of rice. Good for cooking!
  components:
  - type: Sprite
    state: rice-small
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 20
        reagents:
        - ReagentId: Rice
          Quantity: 20

- type: entity
  parent: ReagentPacketBase
  id: ReagentContainerSugar
  name: 糖袋 丨 sugar bag
  description: 一大袋美味太空糖。 丨 A big bag of tasty spacey sugar.
  components:
  - type: Sprite
    state: sugar-big
  - type: SolutionContainerManager
    solutions:
      food:
        reagents:
        - ReagentId: Sugar
          Quantity: 50

- type: entity
  parent: ReagentPacketBase
  id: ReagentContainerSugarSmall
  name: 糖包 丨 sugar pack
  description: 一包美味太空糖。 丨 A pack of tasty spacey sugar.
  components:
  - type: Sprite
    state: sugar-small
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 20
        reagents:
        - ReagentId: Sugar
          Quantity: 20

# Misc

- type: entity
  parent: ReagentPacketBase
  id: ReagentContainerOliveoil
  name: 橄榄油 丨 olive oil
  description: 橄榄油。想必是用太空橄榄制成的吧。 丨 Olive oil. From space olives presumably.
  components:
  - type: Sprite
    state: oliveoil
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 20
        reagents:
        - ReagentId: OilOlive
          Quantity: 20

- type: entity
  parent: ReagentPacketBase
  id: ReagentContainerMayo
  name: 蛋黄酱 丨 mayonnaise
  description: 一瓶蛋黄酱。 丨 Bottle of mayonnaise.
  components:
  - type: Sprite
    state: mayo
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 50 # you always need more mayo
        reagents:
        - ReagentId: Mayo
          Quantity: 50
  - type: Tag
    tags:
      - Mayo

# - type: entity
#   parent: ReagentPacketBase
#   id: ReagentContainerAllspice
#   name: all-spice
#   description:
#   components:
#   - type: Sprite
#     state: spice
#   - type: SolutionContainerManager
#     maxVol: 10
#     contents:
#       reagents:
#       - ReagentId: Allspice
#         Quantity: 10

# Baking

- type: entity
  abstract: true
  parent: FoodBase
  id: FoodBakingBase
  description: 用于各种食谱中。 丨 Used in various recipes.
  components:
  - type: Sprite
    sprite: Objects/Consumable/Food/ingredients.rsi
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 18
        reagents:
        - ReagentId: Nutriment
          Quantity: 15
  - type: Tag
    tags:
      - Ingredient

- type: entity
  name: 面团 丨 dough
  parent: FoodBakingBase
  id: FoodDough
  description: 一块面团。 丨 A piece of dough.
  components:
  - type: FlavorProfile
    flavors:
      - dough
  - type: Sprite
    state: dough
  - type: SliceableFood
    count: 3
    slice: FoodDoughSlice
  - type: Construction
    graph: Pizza
    node: start

- type: entity
  name: 面团片 丨 dough slice
  parent: FoodBakingBase
  id: FoodDoughSlice
  description: 一片面团。可以烹制成馒头。 丨 A slice of dough. Can be cooked into a bun.
  components:
  - type: FlavorProfile
    flavors:
      - dough
  - type: Sprite
    state: dough-slice
  - type: Tag
    tags:
    - Slice
  - type: Construction
    graph: DoughRope
    node: start
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 6
        reagents:
        - ReagentId: Nutriment
          Quantity: 5

- type: entity
  name: 面团绳 丨 dough rope
  parent: FoodBakingBase
  id: FoodDoughRope
  description: 一根细长的面团。可以煮成贝果。 丨 A thin noodle of dough. Can be cooked into a bagel.
  components:
  - type: FlavorProfile
    flavors:
      - dough
  - type: Sprite
    state: dough-rope
  - type: Construction
    graph: DoughRope
    node: rolled
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 6
        reagents:
        - ReagentId: Nutriment
          Quantity: 5

- type: entity
  name: 玉米面面团 丨 cornmeal dough
  parent: FoodBakingBase
  id: FoodDoughCornmeal
  description: 一块玉米面团。 丨 A piece of cornmeal dough.
  components:
  - type: FlavorProfile
    flavors:
      - chalky
      - dough
  - type: Sprite
    state: cornmealdough
  - type: SliceableFood
    count: 3
    slice: FoodDoughCornmealSlice

- type: entity
  name: 玉米面面团片 丨 cornmeal dough slice
  parent: FoodBakingBase
  id: FoodDoughCornmealSlice
  description: 一片玉米面团。 丨 A slice of cornmeal dough.
  components:
  - type: FlavorProfile
    flavors:
      - chalky
      - dough
  - type: Sprite
    state: cornmealdough-slice
  - type: Tag
    tags:
    - Slice

- type: entity
  name: 玉米饼面团 丨 tortilla dough
  parent: FoodBakingBase
  id: FoodDoughTortilla
  description: 一片墨西哥薄饼面团。 丨 A piece of tortilla dough.
  components:
  - type: FlavorProfile
    flavors:
      - chalky
      - dough
  - type: Sprite
    state: tortilladough
  - type: SliceableFood
    count: 3
    slice: FoodDoughTortillaSlice

- type: entity
  name: 玉米饼面团薄片 丨 tortilla dough slice
  parent: FoodBakingBase
  id: FoodDoughTortillaSlice
  description: 一片玉米饼面团。 丨 A slice of tortilla dough.
  components:
  - type: FlavorProfile
    flavors:
      - chalky
      - dough
  - type: Sprite
    state: tortilladough-slice
  - type: Construction
    graph: Tortilla
    node: start
  - type: Tag
    tags:
    - Slice

- type: entity
  name: 压平的玉米饼面团 丨 flattened tortilla dough
  parent: FoodBakingBase
  id: FoodDoughTortillaFlat
  description: 一片压平的墨西哥薄饼面团，煮熟后即可得到墨西哥卷饼壳。 丨 A flattened slice of tortilla dough, cook this to get a taco shell.
  components:
  - type: FlavorProfile
    flavors:
      - chalky
      - dough
  - type: Sprite
    state: tortilladough-flat
  - type: Construction
    graph: Tortilla
    node: flat

- type: entity
  name: 棉面团 丨 cotton dough
  parent: FoodBakingBase
  id: FoodDoughCotton
  description: 一块织物面团。 丨 A piece of fabric dough.
  components:
  - type: FlavorProfile
    flavors:
    - dough
    - cotton
  - type: Sprite
    state: cotton-dough
  - type: SliceableFood
    count: 3
    slice: FoodDoughCottonSlice
  - type: Construction
    graph: CottonPizza
    node: start
  - type: Tag
    tags:
    - Ingredient
    - ClothMade
  - type: Food # Frontier
    requiresSpecialDigestion: true # Frontier
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 18
        reagents:
        - ReagentId: Nutriment
          Quantity: 5
        - ReagentId: Fiber
          Quantity: 10
  - type: MothFood # Frontier

- type: entity
  name: 棉面团切片 丨 cotton dough slice
  parent: FoodBakingBase
  id: FoodDoughCottonSlice
  description: 一片棉絮面团。 丨 A slice of cotton dough.
  components:
  - type: FlavorProfile
    flavors:
    - dough
    - cotton
  - type: Sprite
    state: cotton-dough-slice
  - type: Tag
    tags:
    - Slice
  - type: Construction
    graph: DoughRopeCotton
    node: start
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 6
        reagents:
        - ReagentId: Nutriment
          Quantity: 1.5
        - ReagentId: Fiber
          Quantity: 3.5
  - type: Food # Frontier
    requiresSpecialDigestion: true # Frontier
  - type: MothFood # Frontier

- type: entity
  name: 面团绳 丨 dough rope
  parent: FoodBakingBase
  id: FoodDoughCottonRope
  description: 一根细长的棉花面团。可以煮成棉花贝果。 丨 A thin noodle of cotton dough. Can be cooked into a cotton bagel.
  components:
  - type: FlavorProfile
    flavors:
    - dough
    - cotton
  - type: Sprite
    state: cotton-dough-rope
  - type: Construction
    graph: DoughRopeCotton
    node: rolled
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 6
        reagents:
        - ReagentId: Nutriment
          Quantity: 1.5
        - ReagentId: Fiber
          Quantity: 3.5
  - type: Food # Frontier
    requiresSpecialDigestion: true # Frontier
  - type: MothFood # Frontier

- type: entity
  name: 生糕底 丨 raw pastry base
  parent: FoodBakingBase
  id: FoodDoughPastryBaseRaw
  # description: Must be cooked before use. # Frontier: return when we have things using cooked pastry base
  description: 甜甜圈与糕点的起点。 丨 A starting point for donuts and pastries.
  components:
  - type: Sprite
    state: dough-pastry
  - type: Construction # Frontier
    graph: NFDonut # Frontier
    node: start # Frontier

- type: entity
  name: 糕饼底托 丨 pastry base
  parent: FoodBakingBase
  id: FoodDoughPastryBase
  description: 任何一款体面的糕点的基底。 丨 A base for any self-respecting pastry.
  components:
  - type: Sprite
    state: dough-pastry-baked

- type: entity
  name: 饼皮 丨 pie dough
  parent: FoodBakingBase
  id: FoodDoughPie
  description: 把它烤了就能得到一个派。 丨 Cook it to get a pie.
  components:
  - type: Sprite
    state: dough-pie

- type: entity
  name: 扁平面团 丨 flat dough
  parent: FoodBakingBase
  id: FoodDoughFlat
  description: 压扁的面团。 丨 A flattened dough.
  components:
  - type: Sprite
    state: dough-flat
  - type: Construction
    graph: Pizza
    node: flat
  - type: SliceableFood
    count: 3
    slice: FoodCroissantRaw

- type: entity
  name: 扁平的棉面团 丨 flat cotton dough
  parent: FoodBakingBase
  id: FoodDoughCottonFlat
  description: 一块压平的棉絮面团。 丨 A flattened cotton dough.
  components:
  - type: Sprite
    state: cotton-dough-flat
  - type: Construction
    graph: CottonPizza
    node: flat
  - type: SliceableFood
    count: 3
    slice: FoodCroissantRawCotton
  - type: Food # Frontier
    requiresSpecialDigestion: true # Frontier
  - type: MothFood # Frontier

- type: entity
  name: 披萨面包 丨 pizza bread
  parent: FoodBakingBase
  id: FoodDoughPizzaBaked
  description: 加入配料制作披萨。 丨 Add ingredients to make a pizza.
  components:
  - type: Sprite
    state: pizzabread

- type: entity
  name: 蛋糕糊 丨 cake batter
  parent: FoodBakingBase
  id: FoodCakeBatter
  description: 把它烤了就能得到蛋糕。 丨 Cook it to get a cake.
  components:
  - type: FlavorProfile
    flavors:
      - sweetdough
  - type: Sprite
    state: cakebatter

- type: entity
  name: 一条黄油 丨 stick of butter
  parent: FoodBakingBase
  id: FoodButter
  description: 一根美味、金黄、富含脂肪的佳品。 丨 A stick of delicious, golden, fatty goodness.
  components:
  - type: Sprite
    state: butter
  - type: Slippery
  - type: StepTrigger
    intersectRatio: 0.2
  - type: CollisionWake
    enabled: false
  - type: Physics
    bodyType: Dynamic
  - type: Fixtures
    fixtures:
      slips:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.3,-0.2,0.3,0.2"
        layer:
        - SlipLayer
        hard: false
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.3,-0.2,0.3,0.2"
        density: 10
        mask:
        - ItemMask
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 18
        reagents:
        - ReagentId: Butter
          Quantity: 15
  - type: SliceableFood
    count: 3
    slice: FoodButterSlice
  - type: Extractable # Frontier
    grindableSolutionName: food # Frontier
  - type: Tag # Frontier
    tags: # Frontier
      - Ingredient # Frontier
      - NFButterStick # Frontier

- type: entity
  name: 黄油片 丨 butter slice
  parent: FoodBakingBase
  id: FoodButterSlice
  description: 一小块美味、金黄、富含油脂的佳品。 丨 A pat of delicious, golden, fatty goodness.
  components:
  - type: Sprite
    state: butter-slice
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 6
        reagents:
        - ReagentId: Butter
          Quantity: 5
  - type: Tag
    tags:
    - Slice
  - type: Extractable # Frontier
    grindableSolutionName: food # Frontier

- type: entity
  name: 大麻黄油棒 丨 stick of cannabis butter
  parent: FoodButter
  id: FoodCannabisButter
  description: 将本品添加到你最爱的烘焙食品中，享受一段愉悦时光。 丨 Add this to your favorite baked goods for an irie time.
  components:
  - type: Sprite
    state: butter
    color: "#82C36E"
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 100
        reagents:
        - ReagentId: Butter
          Quantity: 10
        - ReagentId: THC
          Quantity: 82
  - type: Extractable
    grindableSolutionName: food

- type: entity
  name: 奶酪轮 丨 cheese wheel
  parent: FoodBakingBase
  id: FoodCheese
  description: 一大轮美味的切达奶酪。 丨 A big wheel of delicious Cheddar.
  components:
  - type: Item
    size: Normal
  - type: FlavorProfile
    flavors:
      - cheesy
  - type: Sprite
    state: cheesewheel
  - type: SliceableFood
    count: 4
    slice: FoodCheeseSlice

- type: entity
  name: 奶酪楔块 丨 cheese wedge
  parent: FoodBakingBase
  id: FoodCheeseSlice
  description: 一块美味的切达干酪。切下它的那块奶酪轮肯定没走远。 丨 A wedge of delicious Cheddar. The cheese wheel it was cut from can't have gone far.
  components:
  - type: FlavorProfile
    flavors:
      - cheesy
  - type: Sprite
    state: cheesewedge
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 6
        reagents:
        - ReagentId: Nutriment
          Quantity: 3.75
  - type: Tag
    tags:
    - Slice
  - type: FoodSequenceElement
    entries:
      Taco: CheeseTaco
      Burger: CheeseBurger

- type: entity
  name: 山羊奶酪圆木 丨 chèvre log
  parent: FoodBakingBase
  id: FoodChevre
  description: 一条奶油般柔滑的山羊奶酪卷。 丨 A soft log of creamy Chèvre.
  components:
  - type: FlavorProfile
    flavors:
      - nutty
      - creamy
  - type: Sprite
    state: chevrelog
  - type: SliceableFood
    count: 3
    slice: FoodChevreSlice
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 6
        reagents:
        - ReagentId: Nutriment
          Quantity: 3
        - ReagentId: Vitamin
          Quantity: 0.6

- type: entity
  name: 山羊奶酪圆片 丨 chèvre disk
  parent: FoodBakingBase
  id: FoodChevreSlice
  description: 一小碟奶油质地的山羊奶酪。法式配菜的理想点缀。 丨 A small disk of creamy Chèvre. An ideal adornment for French side dishes.
  components:
  - type: FlavorProfile
    flavors:
      - nutty
      - creamy
  - type: Sprite
    state: chevredisk
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 2
        reagents:
        - ReagentId: Nutriment
          Quantity: 1
        - ReagentId: Vitamin
          Quantity: 0.2
  - type: Tag
    tags:
    - Slice

- type: entity
  name: 豆腐 丨 tofu
  parent: FoodBakingBase
  id: FoodTofu
  description: 白色固体块状，味道清淡。 丨 Solid white block with a subtle flavor.
  components:
  - type: FlavorProfile
    flavors:
      - tofu
  - type: Sprite
    state: tofu
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 18
        reagents:
        - ReagentId: Protein
          Quantity: 9
        - ReagentId: Nutriment
          Quantity: 6
  - type: SliceableFood
    count: 3
    slice: FoodTofuSlice

- type: entity
  name: 豆腐片 丨 tofu slice
  parent: FoodBakingBase
  id: FoodTofuSlice
  description: 一片豆腐。多种素食菜肴的配料。 丨 A slice of tofu. Ingredient of various vegetarian dishes.
  components:
  - type: FlavorProfile
    flavors:
      - tofu
  - type: Sprite
    state: tofu-slice
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 6
        reagents:
        - ReagentId: Protein
          Quantity: 3
        - ReagentId: Nutriment
          Quantity: 2
  - type: Tag
    tags:
    - Slice

- type: entity
  name: 烧焦的烂摊子 丨 burned mess
  parent: FoodBakingBase
  id: FoodBadRecipe
  description: 有人该为这个被降职，不能再当厨师了。 丨 Someone should be demoted from cook for this.
  components:
  - type: FlavorProfile
    flavors:
      - terrible
  - type: Sprite
    state: badrecipe
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 8
        reagents:
        - ReagentId: Nutriment
          Quantity: 2
        - ReagentId: GastroToxin
          Quantity: 3
  - type: Tag
    tags:
    - Trash

- type: entity
  name: 可可豆 丨 cocoa beans
  parent: FoodProduceBase
  id: FoodCocoaBeans
  description: 你永远都不会嫌巧克力太多！ 丨 You can never have too much chocolate!
  components:
  - type: FlavorProfile
    flavors:
      - chocolate
  - type: Sprite
    sprite: Objects/Specific/Hydroponics/cocoa.rsi
    state: produce-beans
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 14
        reagents:
        - ReagentId: Nutriment
          Quantity: 2
        - ReagentId: Vitamin
          Quantity: 1
        - ReagentId: CocoaPowder
          Quantity: 2
  - type: Extractable
    juiceSolution:
      reagents:
      - ReagentId: CocoaPowder
        Quantity: 2
  - type: Tag
    tags:
      - Ingredient

- type: entity
  name: 生可颂 丨 raw croissant
  parent: FoodBakingBase
  id: FoodCroissantRaw
  description: 黄油般酥脆的美味，即将在口中绽放。 丨 Buttery, flaky goodness waiting to happen.
  components:
  - type: FlavorProfile
    flavors:
      - dough
  - type: Sprite
    state: croissant-raw
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 4
        reagents:
        - ReagentId: Nutriment
          Quantity: 3

- type: entity
  name: 原生棉羊角包 丨 raw cotton croissant
  parent: FoodCroissantRaw
  id: FoodCroissantRawCotton
  description: 黄油般酥脆、层层分明的纤维质感，美味即将绽放。 丨 Buttery, flaky, fibery goodness waiting to happen.
  components:
  - type: FlavorProfile
    flavors:
    - dough
    - cotton
  - type: Sprite
    state: croissant-raw-cotton
  - type: Food # Frontier
    requiresSpecialDigestion: true # Frontier
  - type: MothFood # Frontier
